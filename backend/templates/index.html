<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Retinal Image Quality</title>

<style>

/* ---------- BODY ---------- */
body{
margin:0;
font-family:Segoe UI, sans-serif;
background:linear-gradient(135deg,#1e3a8a,#020617);
color:#e5e7eb;
overflow-x:hidden;
}

/* ---------- MAIN CONTAINER ---------- */
.container{
max-width:1300px;
margin:30px auto;
padding:20px;
}

/* ---------- CIRCULAR TITLE REGION ---------- */
.title-wrapper{
display:flex;
justify-content:center;
margin-bottom:40px;
position:relative;
}

.title-circle{
width:320px;
height:320px;
border-radius:50%;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
text-align:center;
position:relative;
background:rgba(15,23,42,0.8);
backdrop-filter:blur(10px);
box-shadow:0 0 60px rgba(99,102,241,0.6);
animation:float 6s ease-in-out infinite;
}

/* Rotating glowing border */
.title-circle::before{
content:"";
position:absolute;
width:340px;
height:340px;
border-radius:50%;
background:conic-gradient(#6366f1,#22d3ee,#6366f1);
z-index:-1;
animation:rotate 6s linear infinite;
filter:blur(20px);
}

.title-circle h1{
margin:0;
font-size:32px;
}

.sub{
color:#9ca3af;
margin-top:8px;
font-size:14px;
}

/* ---------- GRID ---------- */
.grid{
display:grid;
grid-template-columns:1fr 1fr;
gap:25px;
}

/* ---------- CARD ---------- */
.card{
background:#020617;
padding:25px;
border-radius:22px;
box-shadow:0 15px 40px rgba(0,0,0,.6);
transition:.4s;
}

.card:hover{
transform:translateY(-5px);
}

/* ---------- UPLOAD BOX ---------- */
.upload-box{
display:flex;
align-items:center;
justify-content:center;
flex-direction:column;
border:2px dashed #475569;
padding:35px 20px;
border-radius:16px;
cursor:pointer;
color:#9ca3af;
transition:.4s;
animation:pulse 2s infinite;
}

.upload-box:hover{
border-color:#6366f1;
color:#c7d2fe;
box-shadow:0 0 20px rgba(99,102,241,0.6);
}

.upload-box input{
display:none;
}

/* BUTTON */
.analyze-btn{
width:100%;
padding:16px;
border:none;
border-radius:16px;
background:linear-gradient(135deg,#6366f1,#4f46e5);
color:white;
font-size:18px;
cursor:pointer;
margin-top:18px;
transition:.4s;
}

.analyze-btn:hover{
transform:scale(1.05);
box-shadow:0 10px 25px rgba(99,102,241,.6);
}

/* IMAGE PREVIEW */
.preview img{
max-width:350px;
border-radius:15px;
box-shadow:0 10px 30px rgba(0,0,0,.7);
animation:fadeIn .8s ease-in-out;
}

/* ---------- PIPELINE ---------- */
.step{
background:#1f2937;
padding:16px 20px;
border-radius:20px;
margin-bottom:14px;
display:flex;
justify-content:space-between;
align-items:center;
transition:.5s;
transform:translateX(-20px);
opacity:0;
animation:slideIn .8s forwards;
}

.step:nth-child(1){animation-delay:.2s}
.step:nth-child(2){animation-delay:.4s}
.step:nth-child(3){animation-delay:.6s}
.step:nth-child(4){animation-delay:.8s}

.done{
color:#22c55e;
text-shadow:0 0 10px #22c55e;
}

.pending{
color:#9ca3af;
}

/* RESULT */
.result{
margin-top:25px;
font-size:26px;
font-weight:700;
animation:fadeIn 1s ease-in-out;
}

/* ---------- ANIMATIONS ---------- */
@keyframes rotate{
0%{transform:rotate(0deg)}
100%{transform:rotate(360deg)}
}

@keyframes float{
0%,100%{transform:translateY(0)}
50%{transform:translateY(-10px)}
}

@keyframes pulse{
0%{box-shadow:0 0 0 rgba(99,102,241,0)}
50%{box-shadow:0 0 25px rgba(99,102,241,.5)}
100%{box-shadow:0 0 0 rgba(99,102,241,0)}
}

@keyframes slideIn{
to{
transform:translateX(0);
opacity:1;
}
}

@keyframes fadeIn{
from{opacity:0}
to{opacity:1}
}

</style>
</head>

<body>

<div class="container">

<!-- ðŸ”µ Circular Title -->
<div class="title-wrapper">
<div class="title-circle">
<h1>Retinal Image Quality</h1>
<p class="sub">AI-based retinal image quality assessment</p>
</div>
</div>

<form method="POST" enctype="multipart/form-data">

<div class="grid">

<!-- LEFT SIDE -->
<div class="card">

<h3>Input Retinal Image</h3>

<label class="upload-box">
ðŸ“¤ Click to upload retinal image
<input type="file" name="image" accept="image/*" required onchange="preview(event)">
</label>

<button class="analyze-btn">Run Quality Analysis</button>

<div class="preview">
<img id="imgPreview" style="display:none;">
</div>

</div>

<!-- RIGHT SIDE -->
<div class="card">

<h3>Processing Pipeline</h3>

<div class="step">
Image Upload
<span class="{{ 'done' if result else 'pending' }}">
{{ 'Done' if result else 'Pending' }}
</span>
</div>

<div class="step">
Feature Extraction
<span class="{{ 'done' if result else 'pending' }}">
{{ 'Done' if result else 'Pending' }}
</span>
</div>

<div class="step">
ML Model
<span class="{{ 'done' if result else 'pending' }}">
{{ 'Done' if result else 'Pending' }}
</span>
</div>

<div class="step">
Decision
<span class="{{ 'done' if result else 'pending' }}">
{{ 'Done' if result else 'Pending' }}
</span>
</div>

{% if result %}
<div class="result">{{ result }}</div>
<p>Confidence: {{ confidence }}%</p>
<p><b>Model:</b> {{ model_name }}</p>
{% endif %}

</div>

</div>

</form>

</div>

<script>
function preview(e){
const img=document.getElementById("imgPreview");
img.src=URL.createObjectURL(e.target.files[0]);
img.style.display="block";
}
</script>

</body>
</html>
